import os
import time

# ANSI Farbcodes
GREEN = '\033[92m'
RED = '\033[91m'
YELLOW = '\033[93m'
CYAN = '\033[96m'
BOLD = '\033[1m'
RESET = '\033[0m'

# Start halt
def intro():
    print("\n" + "="*50)
    print(CYAN + BOLD + "ğŸ® HACKER TRAINING ğŸ®" + RESET)
    print("="*50)
    time.sleep(1)
    print("\n" + YELLOW + ">>> MISSION BRIEFING <<<" + RESET)
    time.sleep(2)
    print("\nHallo junger Agent! ğŸ•µï¸")
    time.sleep(2)
    print("Willkommen in der EBGS Hacker Station")
    time.sleep(2)
    print("\nHeute lernst du, wie echte Hacker arbeiten.")
    time.sleep(2)
    print("Aber keine Sorge wir machen nichts Verbotenes! ğŸ˜Š")
    time.sleep(2)
    print("\n" + GREEN + "Bist du bereit fÃ¼r deine erste Mission?" + RESET)
    time.sleep(2)
    input("\nDrÃ¼cke die ENTER Taste um zu starten...\n")
    
    print(YELLOW + "ğŸš€ Mission wird geladen..." + RESET)
    time.sleep(2)


def challenge_2():
    print("\n" + "\n"*20)
    print(CYAN + "="*50)
    print("ğŸ¯ HACKER TRAINING - 6 MISSIONEN ğŸ¯")
    print("="*50 + RESET)
    score = 0
    
    # Teil 1: Netzwerk Discovery
    print("\n" + "\n"*20)
    print(RED + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“" + RESET)
    print(RED + "â”ƒ  ğŸ¯ MISSION 1: GEHEIME COMPUTER FINDEN  â”ƒ" + RESET)
    print(RED + "â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›" + RESET)
    time.sleep(2)
    print("\nğŸ“– Deine Aufgabe:")
    time.sleep(2)
    print("Du Befindest dich Derzeit im GebÃ¤ude der EBGS und")
    time.sleep(3)
    print("Du willst wissen: Wie viele Computer sind hier?")
    time.sleep(2)
    print("\nğŸ’¡ Hacker benutzen dafÃ¼r einen Sogennanten SCANNER")
    time.sleep(2)
    print("Das ist wie ein Radar, das alle Computer findet und AufspÃ¼hrt ğŸ“¡")
    time.sleep(3)
    print("\nğŸ”§ Dein Hacker Werkzeug Welches wir in der Console Eingeben ist:")
    time.sleep(1)
    print(RED + "nmap -sn 192.168.1.0/24" + RESET)
    time.sleep(2)
    print("\n(Das ist wie eine Schatzkarte um Alle Computer zur finden ğŸ—ºï¸)")
    time.sleep(2)
    input("\nâš¡ DrÃ¼cke ENTER auf der Tastatur vor dir um den Scanner zu starten...")
    
    print("\n" + GREEN + "ğŸ”„ Scanner wird gestartet..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ’» Scanne Netzwerk..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ“¡ FÃ¼hre aus: nmap -sn 192.168.1.1-10" + RESET + "\n")
    os.system("nmap -sn 192.168.1.1-10")
    
    time.sleep(2)
    print("\n" + YELLOW + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" + RESET)
    answer = input("\nâ“ Schau nach oben Wie viele Computer hast du gefunden?\n   (Tipp: Schau bei der Zahl vor 'IP addresses'): ")
    print("\n" + GREEN + "ğŸ‰ SUPER! Du hast deinen ersten Scan gemacht" + RESET)
    print(YELLOW + "â­ +10 Punkte fÃ¼r dich!" + RESET)
    score += 10
    time.sleep(3)
    
    # Teil 2: Port Scanning
    print("\n" + "\n"*20)
    print(RED + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“" + RESET)
    print(RED + "â”ƒ   ğŸšª MISSION 2: OFFENE TÃœREN FINDEN     â”ƒ" + RESET)
    print(RED + "â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›" + RESET)
    time.sleep(2)
    print("\nğŸ“– Deine Aufgabe:")
    time.sleep(2)
    print("Jeder Computer ist wie ein Haus mit vielen TÃ¼ren! ğŸ ")
    time.sleep(2)
    print("Manche TÃ¼ren sind offen ğŸŸ¢, manche sind zu ğŸ”´")
    time.sleep(2)
    print("\nğŸ’¡ Hacker schauen: Welche TÃ¼ren sind offen?")
    time.sleep(2)
    print("So kÃ¶nnen sie in den Computer reinkommen!")
    time.sleep(3)
    print("\nğŸ”§ Dein Hacker Werkzeug:")
    time.sleep(1)
    print(RED + "nmap -p 22,80,443 localhost" + RESET)
    time.sleep(2)
    input("\nâš¡ DrÃ¼cke ENTER um die TÃ¼ren zu checken...")
    
    print("\n" + GREEN + "ğŸ”„ TÃ¼r Scanner wird gestartet..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸšª Schaue nach offenen TÃ¼ren..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ“¡ FÃ¼hre aus: nmap -p 22,80,443 localhost" + RESET + "\n")
    os.system("nmap -p 22,80,443 localhost")
    
    time.sleep(2)
    print("\n" + YELLOW + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" + RESET)
    print(CYAN + "\nğŸ‘€ WICHTIG Schau genau hin!" + RESET)
    time.sleep(2)
    print("\nIn der Liste oben siehst du:")
    time.sleep(2)
    print("  ğŸŸ¢ " + GREEN + "open" + RESET + " = TÃ¼r ist offen")
    time.sleep(1)
    print("  ğŸ”´ " + RED + "closed" + RESET + " = TÃ¼r ist zu")
    time.sleep(2)
    print("\nğŸ” Suche TÃ¼r Nummer 22!")
    time.sleep(2)
    print("(Das ist die SSH-TÃ¼r - damit kÃ¶nnen Hacker sich einloggen!)")
    time.sleep(2)
    
    answer = input("\nâ“ Ist TÃ¼r 22 offen?\n   Schreib 'ja' wenn dort 'open' steht, sonst 'nein': ")
    if "ja" in answer.lower() or "nein" in answer.lower():
        print("\n" + GREEN + "ğŸ¯ RICHTIG! Du hast die Liste gelesen!" + RESET)
        time.sleep(2)
        if "ja" in answer.lower():
            print("Port 22 ist bei dir offen! ğŸŸ¢")
        else:
            print("Port 22 ist bei dir geschlossen! ğŸ”´")
        time.sleep(2)
        print(YELLOW + "â­ +10 Punkte!" + RESET)
        print(GREEN + "Du wirst immer besser! ğŸŒŸ" + RESET)
        score += 10
    else:
        print("\n" + YELLOW + "ğŸ¤” Schreib bitte 'ja' oder 'nein'..." + RESET)
        time.sleep(2)
        print("Aber keine Sorge!")
        time.sleep(1)
        print(GREEN + "â­ +5 Punkte fÃ¼r's Mitmachen!" + RESET)
        score += 5
    time.sleep(3)
    
    # Teil 3: Service Detection
    print("\n" + "\n"*20)
    print(RED + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“" + RESET)
    print(RED + "â”ƒ  ğŸ” MISSION 3: GEHEIME PROGRAMME FINDEN â”ƒ" + RESET)
    print(RED + "â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›" + RESET)
    time.sleep(2)
    print("\nğŸ“– Deine NÃ¤chste Aufgabe:")
    time.sleep(2)
    print("Du hast offene TÃ¼ren gefunden!")
    time.sleep(2)
    print("Jetzt willst du wissen: Was ist hinter den TÃ¼ren sich Verbirgt? ğŸ¤”")
    time.sleep(2)
    print("\nğŸ’¡ LÃ¤uft da eine Website? ğŸŒ")
    time.sleep(2)
    print("Oder ein Login System fÃ¼r die PC's ğŸ”")
    time.sleep(2)
    print("Vielleicht sogar PasswÃ¶rter? ğŸ”‘")
    time.sleep(3)
    print("\nğŸ”§ Dein Hacker Werkzeug was wir nun in der Console Verwenden ist:")
    time.sleep(3)
    print(RED + "nmap -sV localhost" + RESET)
    time.sleep(2)
    input("\nâš¡ DrÃ¼cke ENTER um zu spionieren...")
    
    print("\n" + GREEN + "ğŸ”„ Spion Modus aktiviert..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ•µï¸ Mal Schauen was der Computer macht..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ“¡ FÃ¼hre aus: nmap -sV -p 22,80,443 localhost" + RESET + "\n")
    os.system("nmap -sV -p 22,80,443 localhost")
    
    time.sleep(2)
    print("\n" + GREEN + "ğŸ‰ Wow! Du gehst nun wie ein Echter hacker vor" + RESET)
    print(YELLOW + "â­ +10 Punkte!" + RESET)
    score += 10
    time.sleep(3)
    
    # Teil 4: OS Detection
    print("\n" + "\n"*20)
    print(RED + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“" + RESET)
    print(RED + "â”ƒ  ğŸ’» MISSION 4: COMPUTER-GEHIRN SCANNEN  â”ƒ" + RESET)
    print(RED + "â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›" + RESET)
    time.sleep(2)
    print("\n" + YELLOW + "ğŸŠ Hey! Du bist schon super weit gekommen!" + RESET)
    time.sleep(2)
    print("\nğŸ“– Deine NÃ¤chste Aufgabe:")
    time.sleep(2)
    print("Jeder Computer hat ein 'Gehirn' auch Betriebssystem Gennant ğŸ§ ")
    time.sleep(2)
    print("Das ist wie ein Chef, der alles steuert und Kontrolliert")
    time.sleep(2)
    print("\nEs gibt:")
    time.sleep(1)
    print("  â€¢ Windows ğŸªŸ (kennst du bestimmt!) welches wir auch fÃ¼r Die Schul PC's Verwenden")
    time.sleep(1)
    print("  â€¢ Mac ğŸ (von Apple)")
    time.sleep(1)
    print("  â€¢ Linux ğŸ§ (das benutzen viele Hacker & Herr Van DE LOO")
    time.sleep(3)
    print("\nğŸ’¡ Warum ist das wichtig?")
    time.sleep(2)
    print("Jedes System funktioniert anders")
    time.sleep(2)
    print("Hacker mÃ¼ssen das wissen um sich Anzupassen ğŸ¯")
    time.sleep(3)
    print("\nğŸ”§ Dein Hacker Werkzeug fÃ¼r diese Aufgabe:")
    time.sleep(1)
    print(RED + "uname -a" + RESET)
    time.sleep(2)
    input("\nâš¡ DrÃ¼cke ENTER um das Betriebsystem zu scannen...")
    
    print("\n" + GREEN + "ğŸ”„ Betriebsystem Scanner wird gestartet..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ§  Analysiere Betriebssystem..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ“¡ FÃ¼hre aus: uname -a" + RESET + "\n")
    time.sleep(1)
    os.system("uname -a")
    
    time.sleep(2)
    print("\n" + YELLOW + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”" + RESET)
    answer = input("\nâ“ Steht im Langen Text 'Linux' oder 'Kali'?\n   Schreib 'ja' oder 'nein': ")
    if "ja" in answer.lower():
        print("\n" + GREEN + "ğŸ¯ PERFEKT! Du liest wie ein Profi!" + RESET)
        print(YELLOW + "â­ +10 Punkte!" + RESET)
        score += 10
    else:
        print("\n" + YELLOW + "ğŸ” Schau nochmal genau hin!" + RESET)
        print("Das Wort 'Linux' versteckt sich da Vielleicht doch irgendwo! ğŸ‘€")
    time.sleep(3)
    
    # Teil 5: Netzwerk Analyse
    print("\n" + "\n"*20)
    print(RED + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“" + RESET)
    print(RED + "â”ƒ  ğŸ  MISSION 5: COMPUTER ADRESSE FINDEN  â”ƒ" + RESET)
    print(RED + "â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›" + RESET)
    time.sleep(2)
    print("\nğŸ“– Deine Aufgabe:")
    time.sleep(2)
    print("Jeder Computer hat eine Adresse! ğŸ“®")
    time.sleep(2)
    print("Wie dein Haus eine Hausnummer hat (z.B. IndustriestraÃŸe 29)")
    time.sleep(2)
    print("\nğŸ’¡ Computer Adressen sehen aber nicht aus wie eine Normale Hausnummer sondern Sehen so aus:")
    time.sleep(5)
    print(CYAN + "192.168.1.10" + RESET + " oder " + CYAN + "10.0.0.5" + RESET)
    time.sleep(2)
    print("\nHacker brauchen diese Adressen")
    time.sleep(2)
    print("Sonst finden sie den Computer nicht den sie Hacken wollen")
    time.sleep(3)
    print("\nğŸ”§ Dein Hacker Werkzeug das wir diesmal nutzen ist:")
    time.sleep(1)
    print(RED + "ip addr" + RESET)
    time.sleep(2)
    input("\nâš¡ DrÃ¼cke ENTER um die Adresse zu finden...")
    
    print("\n" + GREEN + "ğŸ”„ Adressen Sucher wird gestartet..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ  Suche Computer Adresse..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ“¡ FÃ¼hre aus: ip addr show" + RESET + "\n")
    os.system("ip addr show | grep inet || ifconfig")
    
    time.sleep(2)
    print("\n" + GREEN + "ğŸ‰ Gefunden! Das sind die Adressen!" + RESET)
    print(YELLOW + "â­ +10 Punkte!" + RESET)
    score += 10
    time.sleep(3)
    
    # Bonus Challenge
    print("\n" + "\n"*20)
    print(RED + "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“" + RESET)
    print(RED + "â”ƒ    ğŸ“¶ BONUS MISSION: WLAN HACKER       â”ƒ" + RESET)
    print(RED + "â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›" + RESET)
    time.sleep(2)
    print("\n" + YELLOW + "ğŸŒŸ BONUS MISSION FREIGESCHALTET!" + RESET)
    time.sleep(2)
    print("\nğŸ“– Letzte Aufgabe:")
    time.sleep(2)
    print("Finde alle WLAN Netzwerke in der NÃ¤he! ğŸ“¡")
    time.sleep(2)
    print("Das ist wie auf deinem Handy wenn du nach WLAN suchst! ğŸ“±")
    time.sleep(2)
    print("\nğŸ’¡ Aber als Hacker siehst du VIEL mehr Infos!")
    time.sleep(2)
    print("Zum Beispiel:")
    time.sleep(1)
    print("  â€¢ Wie stark ist das Signal? ğŸ“¶")
    time.sleep(1)
    print("  â€¢ Welcher Kanal wird benutzt? ğŸ“»")
    time.sleep(1)
    print("  â€¢ Ist das WLAN verschlÃ¼sselt? ğŸ”’")
    time.sleep(1)
    print("  â€¢ Welche Sicherheit wird verwendet? ğŸ›¡ï¸")
    time.sleep(1)
    print("  â€¢ Die genaue WLAN Adresse wo sich das Befindet (MAC Adresse)! ğŸ“")
    time.sleep(3)
    print("\nğŸ”§ Dein Hacker Werkzeug fÃ¼r die Letzte Station ist:")
    time.sleep(1)
    print(RED + "nmcli dev wifi" + RESET)
    time.sleep(2)
    input("\nâš¡ DrÃ¼cke ENTER fÃ¼r den WLAN Scan mit nmcli dev wifi AuszufÃ¼hren...")
    
    print("\n" + GREEN + "ğŸ”„ WLAN Scanner wird gestartet..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ“¶ Suche nach WLAN Netzwerken..." + RESET)
    time.sleep(1)
    print(GREEN + "ğŸ“¡ FÃ¼hre aus: nmcli dev wifi" + RESET + "\n")
    os.system("nmcli dev wifi || iwconfig")
    
    time.sleep(2)
    answer = input("\nâ“ Siehst du WLAN Namen in der Liste?\n   Schreib 'ja' oder 'nein': ")
    if "ja" in answer.lower():
        print("\n" + GREEN + "ğŸ† UNGLAUBLICH! Du bist ein Profi" + RESET)
        print(YELLOW + "â­â­ +20 BONUS PUNKTE! â­â­" + RESET)
        score += 20
    else:
        print("\n" + YELLOW + "Kein Problem! Du Hast Trotzdem gut Abgeschnitten wie man auch Gleich in der Punkte Anzahl sieht" + RESET)
    time.sleep(6)
    
    # ende
    print("\n" + "\n"*20)
    print(CYAN + "="*50)
    print("ğŸŠ MISSION ABGESCHLOSSEN ğŸŠ")
    print("="*50 + RESET)
    time.sleep(2)
    print("\n" + YELLOW + "ğŸ“Š DEINE PUNKTE: " + str(score) + " von 70 Punkten" + RESET)
    time.sleep(2)
    
    if score >= 60:
        print("\n" + GREEN + "ğŸ†ğŸ†ğŸ† ELITE-HACKER! ğŸ†ğŸ†ğŸ†" + RESET)
        print("Du bist ein Echter profi")
    elif score >= 40:
        print("\n" + GREEN + "â­â­ SUPER HACKER! â­â­" + RESET)
        print("Du hast echt Talent!")
    elif score >= 20:
        print("\n" + GREEN + "â­ JUNIOR HACKER! â­" + RESET)
        print("Guter Start!")
    else:
        print("\n" + GREEN + "ğŸ® HACKER ğŸ®" + RESET)
        print("Weiter so!")
    
    time.sleep(2)
    print("\n" + CYAN + "="*50 + RESET)
    
    # Zusammenfassung
    print("\n" + YELLOW + "ğŸ“š WAS DU HEUTE GELERNT HAST:" + RESET)
    time.sleep(1)
    print("\n  1. ğŸ“¡ Computer im Netzwerk finden")
    time.sleep(1)
    print("  2. ğŸšª Offene TÃ¼ren (Ports) scannen")
    time.sleep(1)
    print("  3. ğŸ•µï¸ Programme hinter den TÃ¼ren des Netzwerkes finden")
    time.sleep(1)
    print("  4. ğŸ’» Betriebssystem erkennen")
    time.sleep(1)
    print("  5. ğŸ  Computer Adressen finden")
    time.sleep(1)
    print("  6. ğŸ“¶ WLAN Netzwerke scannen")
    time.sleep(2)
    
    print("\n" + RED + "âš ï¸ WICHTIGE HACKER REGEL:" + RESET)
    time.sleep(1)
    print("Nur mit Erlaubnis hacken")
    time.sleep(1)
    print("Sonst ist es VERBOTEN und du bekommst du sehr groÃŸen Ã„rger und das wollen wir ja nicht ğŸ‘®")
    time.sleep(2)
    return score

def main():
    intro()
    challenge_2()
    
    print("\n" + "\n"*5)
    print(CYAN + "="*50)
    print("ğŸ‘‹ MISSION ENDE ğŸ‘‹")
    print("="*50 + RESET)
    time.sleep(2)
    print("\n" + GREEN + "Danke fÃ¼rs Mitmachen!" + RESET)
    time.sleep(1)
    print("wir von der EBGS WÃ¼nschen dir noch viel SpaÃŸ bei den NÃ¤chsten Stationen! ğŸ®")
    time.sleep(2)
    print("\n" + YELLOW + "ğŸŒŸ Bis zum nÃ¤chsten Mal ğŸŒŸ" + RESET)
    print("\n" + "="*50 + "\n")
    time.sleep(2)

if __name__ == "__main__":
    main()
